const miModulo=(()=>{"use strict";let e=[],t=[["C","D","H","S"],["A","2","3","4","5","6","7","8","9","10","J","Q","K"]],n=[0,0],r=[document.getElementById("puntosJugador"),document.getElementById("puntosCompu")],a=[document.getElementById("jugador-cartas"),document.getElementById("computadora-cartas")],s={btnNuevo:document.getElementById("btnNuevo"),btnPedir:document.getElementById("btnPedir"),btnDetener:document.getElementById("btnDetener")},d=!1,l=!1,$=()=>{i(),l=!1,E(!1,!1);for(let e=0;e<n.length;e++)n[e]=0;r.forEach(e=>{e.innerText=0}),a.forEach(e=>{e.innerHTML=""})},i=()=>{e=[];for(let n=0;n<t[0].length;n++)for(let r=0;r<t[1].length;r++)e.push(t[1][r]+t[0][n]);return e=_.shuffle(e)},o=e=>{l||(l=!0,alert(e),E(!0,!0))},u=()=>{if(0!=e.length)return e.pop();throw Error("Te quedaste sin cartas")},c=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"==t?11:10:parseInt(t)},g=e=>{let t=u();e==n.length?n.push(c(t)):n[e]+=c(t),r[e].innerText=n[e];let s=document.createElement("img");s.classList.add("carta"),s.src=`assets/cartas/${t}.png`,a[e].append(s)},b=e=>{if(d)do if(g(1),e>21)break;while(n[1]<e);else g(1);setTimeout(()=>{d?n[1]>21?o("Ganaste!!!"):21==n[1]?n[1]==n[0]?o("Empate"):o("Perdiste :("):n[1]>n[0]?o("Perdiste :("):o("Ganaste!!!"):n[1]>21?o("Ganaste!!!"):21==n[1]&&(n[1]==n[0]?o("Empate"):o("Perdiste :("))},500)},E=(e,t)=>{s.btnPedir.disabled=e,s.btnDetener.disabled=t};return s.btnPedir.addEventListener("click",()=>{g(0),setTimeout(()=>{n[0]>21?o("Perdiste"):21==n[0]?o("Ganaste!!!"):b(n[0])},100)}),s.btnDetener.addEventListener("click",()=>{E(!0,!0),b(n[0])}),s.btnNuevo.addEventListener("click",()=>{$()}),{nuevoJuego:$}})();